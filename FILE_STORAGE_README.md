# Trade History File Storage System

## –ß—Ç–æ –±—ã–ª–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

–í–º–µ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Ç—Ä–µ–π–¥–æ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL, —Ç–µ–ø–µ—Ä—å –∏—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ **JSON —Ñ–∞–π–ª—ã** –Ω–∞ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ. –≠—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∏ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª–µ–≥–∫–æ —á–∏—Ç–∞—Ç—å/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤—Ä—É—á–Ω—É—é.

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

### 1. –°–æ–∑–¥–∞–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ITradeHistoryFileService

**–§–∞–π–ª:** `backend/src/BotsForTrading.Core/Interfaces/ITradeHistoryFileService.cs`

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–µ—Ç–æ–¥—ã –¥–ª—è:
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–π —Å–¥–µ–ª–∫–∏ –≤ —Ñ–∞–π–ª
- –ü–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö —Å–¥–µ–ª–æ–∫ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–æ—Ç–∞ (–ø–æ ID)
- –ü–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö —Å–¥–µ–ª–æ–∫ –ø–æ –≤–Ω–µ—à–Ω–µ–º—É ID –±–æ—Ç–∞

### 2. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω —Å–µ—Ä–≤–∏—Å TradeHistoryFileService

**–§–∞–π–ª:** `backend/src/BotsForTrading.Infrastructure/Services/TradeHistoryFileService.cs`

–û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏** –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤: `{AppDirectory}/data/trade-history/`
- **–û–¥–∏–Ω —Ñ–∞–π–ª –Ω–∞ –±–æ—Ç–∞**: `bot_{botId}_trades.json`
- **Thread-safe –æ–ø–µ—Ä–∞—Ü–∏–∏** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º SemaphoreSlim –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –≤ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ–π —Å—Ä–µ–¥–µ
- **JSON —Ñ–æ—Ä–º–∞—Ç** —Å —á–∏—Ç–∞–µ–º—ã–º —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º (WriteIndented = true)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ID** –¥–ª—è –Ω–æ–≤—ã—Ö —Å–¥–µ–ª–æ–∫

### 3. –û–±–Ω–æ–≤–ª–µ–Ω TradeHistoryController

**–§–∞–π–ª:** `backend/src/BotsForTrading.Api/Controllers/V1/TradeHistoryController.cs`

–ò–∑–º–µ–Ω–µ–Ω–∏—è:
- **GET /api/v1/tradehistory/bot/{botId}** - —Ç–µ–ø–µ—Ä—å —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–∞–π–ª–∞ –≤–º–µ—Å—Ç–æ –ë–î
- **POST /api/v1/tradehistory/{externalBotId}** - —Ç–µ–ø–µ—Ä—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–∞–π–ª –≤–º–µ—Å—Ç–æ –ë–î

### 4. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞ –≤ DI –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

**–§–∞–π–ª:** `backend/src/BotsForTrading.Api/Program.cs`

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è:
```csharp
builder.Services.AddSingleton<ITradeHistoryFileService, TradeHistoryFileService>();
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

### –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
```
backend/src/BotsForTrading.Api/bin/Debug/net8.0/data/trade-history/
```

### –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞
–ö–∞–∂–¥—ã–π —Ñ–∞–π–ª –∏–º–µ–µ—Ç –∏–º—è: `bot_{botId}_trades.json`

–ü—Ä–∏–º–µ—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ `bot_1_trades.json`:
```json
[
  {
    "id": 1,
    "botId": 1,
    "tradingPair": "BTCUSDT",
    "positionSide": "Long",
    "entryPrice": 50000.00,
    "exitPrice": 51000.00,
    "positionSize": 0.1,
    "realizedPnL": 100.00,
    "status": "Success",
    "errorMessage": null,
    "openedAt": "2024-01-01T10:00:00Z",
    "closedAt": "2024-01-01T11:00:00Z"
  },
  {
    "id": 2,
    "botId": 1,
    "tradingPair": "BTCUSDT",
    "positionSide": "Short",
    "entryPrice": 51000.00,
    "exitPrice": 50500.00,
    "positionSize": 0.1,
    "realizedPnL": 50.00,
    "status": "Success",
    "errorMessage": null,
    "openedAt": "2024-01-01T12:00:00Z",
    "closedAt": "2024-01-01T13:00:00Z"
  }
]
```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–¥–µ–ª–∫–∏

–ö–æ–≥–¥–∞ –±–æ—Ç –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Å–¥–µ–ª–∫—É –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –∑–∞–ø—Ä–æ—Å –Ω–∞ `/api/v1/tradehistory/{externalBotId}`:

1. API –Ω–∞—Ö–æ–¥–∏—Ç –±–æ—Ç–∞ –ø–æ `externalBotId` –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
2. –°–æ–∑–¥–∞–µ—Ç –æ–±—ä–µ–∫—Ç `TradeHistory` —Å –¥–∞–Ω–Ω—ã–º–∏ —Å–¥–µ–ª–∫–∏
3. –í—ã–∑—ã–≤–∞–µ—Ç `TradeHistoryFileService.SaveTradeAsync(trade)`
4. –°–µ—Ä–≤–∏—Å:
   - –ß–∏—Ç–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª –¥–ª—è —ç—Ç–æ–≥–æ –±–æ—Ç–∞
   - –î–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—É—é —Å–¥–µ–ª–∫—É —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–≤–µ–ª–∏—á–µ–Ω–Ω—ã–º ID
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –æ–±—Ä–∞—Ç–Ω–æ –≤ —Ñ–∞–π–ª

### –ü–æ–ª—É—á–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏

–ö–æ–≥–¥–∞ frontend –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —á–µ—Ä–µ–∑ GET `/api/v1/tradehistory/bot/{botId}`:

1. API –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –í—ã–∑—ã–≤–∞–µ—Ç `TradeHistoryFileService.GetTradesByBotIdAsync(botId)`
3. –°–µ—Ä–≤–∏—Å —á–∏—Ç–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π JSON —Ñ–∞–π–ª
4. –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Å–¥–µ–ª–æ–∫, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ –¥–∞—Ç–µ –∑–∞–∫—Ä—ã—Ç–∏—è (–Ω–æ–≤—ã–µ –ø–µ—Ä–≤—ã–º–∏)

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞

1. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –õ–µ–≥–∫–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é - –ø—Ä–æ—Å—Ç–æ –æ—Ç–∫—Ä–æ–π—Ç–µ JSON —Ñ–∞–π–ª
2. **–ü–æ—Ä—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å**: –ú–æ–∂–Ω–æ –ª–µ–≥–∫–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å/–ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Ñ–∞–π–ª—ã –º–µ–∂–¥—É —Å–µ—Ä–≤–µ—Ä–∞–º–∏
3. **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –ë–î**: –ù–µ –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏, –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è –ë–î
4. **–õ–µ–≥–∫–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ú–æ–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
5. **–ë—ç–∫–∞–ø**: –ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫—É `data/trade-history/` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±—ç–∫–∞–ø–∞

## –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**: –î–ª—è –æ—á–µ–Ω—å –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —Å–¥–µ–ª–æ–∫ (—Ç—ã—Å—è—á–∏ –Ω–∞ –±–æ—Ç–∞) –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç —Å–Ω–∏–∑–∏—Ç—å—Å—è
2. **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø**: –ü—Ä–∏ –æ—á–µ–Ω—å –≤—ã—Å–æ–∫–æ–π –Ω–∞–≥—Ä—É–∑–∫–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –∏–∑-–∑–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫ (SemaphoreSlim)
3. **–ü–æ–∏—Å–∫**: –°–ª–æ–∂–Ω–µ–µ –¥–µ–ª–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø–æ–∏—Å–∫) –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å SQL

## Frontend –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è

Frontend –æ–±–Ω–æ–≤–ª–µ–Ω –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ —Å–¥–µ–ª–æ–∫:
- API endpoints –æ—Å—Ç–∞–ª–∏—Å—å —Ç–µ–º–∏ –∂–µ:
  - `GET /api/v1/tradehistory/bot/{botId}` - –ø–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é
  - `POST /api/v1/tradehistory/{externalBotId}` - —Å–æ–∑–¥–∞—Ç—å –∑–∞–ø–∏—Å—å

### –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–æ–≤

–í `BotDetailPage.tsx` –¥–æ–±–∞–≤–ª–µ–Ω–∞ —É–º–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–∞:
- **–ó–µ–ª—ë–Ω—ã–π** üü¢ - –ø—Ä–∏–±—ã–ª—å–Ω–∞—è —Å–¥–µ–ª–∫–∞ (PnL > 0)
- **–û—Ä–∞–Ω–∂–µ–≤—ã–π** üü† - —É–±—ã—Ç–æ—á–Ω–∞—è —Å–¥–µ–ª–∫–∞ (PnL < 0)
- **–ö—Ä–∞—Å–Ω—ã–π** üî¥ - —Ä–µ–∞–ª—å–Ω–∞—è —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (–Ω–µ —Å–º–æ–≥–ª–∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ä–¥–µ—Ä, API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ)

–î–∞–∂–µ –µ—Å–ª–∏ –ø–æ–∑–∏—Ü–∏—è –∑–∞–∫—Ä—ã–ª–∞—Å—å "–≤–Ω–µ—à–Ω–µ" (–ø–æ —Ç–µ–π–∫—É, —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É, –≤—Ä—É—á–Ω—É—é), —Ü–≤–µ—Ç –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É PnL, –∞ –Ω–µ –∫–∞–∫ –æ—à–∏–±–∫–∞.

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend —Å–µ—Ä–≤–µ—Ä
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ POST –∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–¥–µ–ª–∫–∏:

```bash
curl -X POST http://localhost:5000/api/v1/tradehistory/your-bot-external-id \
  -H "Content-Type: application/json" \
  -d '{
    "tradingPair": "BTCUSDT",
    "positionSide": "Long",
    "entryPrice": 50000,
    "exitPrice": 51000,
    "positionSize": 0.1,
    "realizedPnL": 100,
    "status": "Success",
    "openedAt": "2024-01-01T10:00:00Z"
  }'
```

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω –≤ `data/trade-history/bot_{id}_trades.json`
4. –û—Ç–∫—Ä–æ–π—Ç–µ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏–∏ –±–æ—Ç–∞ - –≤—ã —É–≤–∏–¥–∏—Ç–µ –∏—Å—Ç–æ—Ä–∏—é —Å–¥–µ–ª–æ–∫ –≤ –≤–∏–¥–µ —Ü–≤–µ—Ç–Ω—ã—Ö –∫–≤–∞–¥—Ä–∞—Ç–∏–∫–æ–≤

## –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –±–æ—Ç–µ (TradingBot)

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ —Å–¥–µ–ª–∫–∏ –≤ –±–æ—Ç–µ:

### BotReporterService.cs
–¢–µ–ø–µ—Ä—å —Å—Ç–∞—Ç—É—Å –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ:
```csharp
// –ë—ã–ª–æ:
var status = errorMessage != null ? "Error" : (realizedPnL >= 0 ? "Success" : "Loss");

// –°—Ç–∞–ª–æ:
var isRealError = errorMessage != null && errorMessage != "Position closed externally";
var status = isRealError ? "Error" : (realizedPnL > 0 ? "Success" : "Loss");
```

### TradingBotManager.cs
–£–±—Ä–∞–ª–∏ –ø–µ—Ä–µ–¥–∞—á—É errorMessage –¥–ª—è –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö –∑–∞–∫—Ä—ã—Ç–∏–π:
```csharp
// –ë—ã–ª–æ:
bot.ExpectedPositionClose ? null : "Position closed externally"

// –°—Ç–∞–ª–æ:
null // External closes (take profit, manual, etc.) are not errors
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –¢–µ–ø–µ—Ä—å –∑–∞–∫—Ä—ã—Ç–∏–µ –ø–æ —Ç–µ–π–∫-–ø—Ä–æ—Ñ–∏—Ç—É, —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É –∏–ª–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ –±–∏—Ä–∂—É –Ω–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ—à–∏–±–∫–æ–π, –∏ —Å—Ç–∞—Ç—É—Å –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –ø–æ PnL (–ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫).

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å –ë–î –Ω–∞ —Ñ–∞–π–ª—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –ë–î –∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ —Ñ–∞–π–ª—ã:

1. –°–æ–∑–¥–∞–π—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç –¥–ª—è —ç–∫—Å–ø–æ—Ä—Ç–∞ –¥–∞–Ω–Ω—ã—Ö –≤ JSON
2. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ JSON —Ñ–∞–π–ª—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –≤ `data/trade-history/`
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç —Ñ–æ—Ä–º–∞—Ç—É `bot_{botId}_trades.json`
